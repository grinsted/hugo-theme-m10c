{{ define "main" }}
{{ with .Title -}}<h1>{{- . -}}</h1>{{- end }}
{{ with .Content -}}<div class="post-content">{{- . -}}</div>{{- end }}

<ul class="post-list">
  {{ range where .Paginator.Pages "Type" "!=" "page" }}
  <li>
    <img src="{{ .Params.banner | absURL }}" ;>
    <article>
      <h1><a href="{{ .Permalink }}">{{ .Title }}</a></h1>
      <p>
        {{ if .Params.Summary }}
        {{ .Params.Summary | markdownify }}
        {{ else }}
        {{ .Summary | plainify | strings.Truncate 200 }}
        {{ end }}
      </p>

      <span class="posts-list-item-description">
        {{ partial "icon.html" (dict "ctx" $ "name" "calendar") }}
        {{ .PublishDate.Format "Jan 2, 2006" }}
        -
        {{ partial "icon.html" (dict "ctx" $ "name" "clock") }}
        {{ .ReadingTime }} min read
      </span>
    </article>
  </li>
  {{ end }}
</ul>

{{ partial "pagination.html" $ }}
{{ end }}